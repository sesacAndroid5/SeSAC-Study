# 📱 Android Activity 생명주기별 초기화 및 리소스 해제 작업 정리

안드로이드에서 `Activity`는 명확한 생명주기(lifecycle)를 가지고 있으며, 각 생명주기 콜백에서 수행해야 할 작업이 다르다. 아래는 `onCreate`, `onStart`, `onResume`, `onPause`, `onStop`, `onDestroy` 각 단계에서 **주로 수행해야 하는 작업**을 정리한 내용이다.

---

## 🔵 `onCreate()`
- **호출 시점**: 액티비티가 생성될 때 최초 1회 호출
- **주요 작업**:
  - 레이아웃 설정 (`setContentView`)
  - 뷰 바인딩 및 UI 컴포넌트 초기화
  - ViewModel, LiveData 등 초기화
  - 데이터 바인딩 설정
  - 의존성 주입(DI)
  - Room DB, Retrofit 등의 초기 연결 설정
  - 인텐트로부터 데이터 수신
- ✅ **처음 한 번만 해야 하는 초기화 작업 수행**

---

## 🔵 `onStart()`
- **호출 시점**: 액티비티가 사용자에게 보이기 직전에 호출
- **주요 작업**:
  - UI 업데이트를 위한 데이터 로드
  - 리스너 등록 (예: Firebase, BroadcastReceiver, Sensor 등)
  - 앱 상태에 따라 UI 갱신 (예: 로그인 여부 등)
- ✅ **UI 표시 직전 준비 작업 수행**

---

## 🔵 `onResume()`
- **호출 시점**: 액티비티가 포그라운드에서 상호작용 가능해질 때 호출
- **주요 작업**:
  - 애니메이션, 카메라, 센서 등 시작
  - 사용자 입력 수신 시작
  - 위치 업데이트, 네트워크 콜백 등록
- ✅ **사용자와 완전히 상호작용 가능 상태**

---

## 🟠 `onPause()`
- **호출 시점**: 다른 액티비티가 포그라운드에 올 때 호출 (부분 가려짐)
- **주요 작업**:
  - 애니메이션, 센서 일시 정지
  - 저장되지 않은 데이터 저장 (예: 초안 저장)
  - 리소스 절약을 위한 작업 정지
- ⚠️ **UI 변경 금지 (완전히 가려질 수도 있음)**

---

## 🟠 `onStop()`
- **호출 시점**: 액티비티가 더 이상 사용자에게 보이지 않을 때
- **주요 작업**:
  - 리스너 해제
  - 위치, 센서, 네트워크 연결 해제
  - 백그라운드에서 필요한 저장 작업
  - 중지된 UI 상태 저장
- ✅ **더 이상 보이지 않는 상태 → 리소스 정리**

---

## 🟡 `onRestart()`
- **호출 시점**: 액티비티가 onStop() 상태였다가 다시 시작될 때 호출
- **주요 작업**:
  - UI 상태 갱신 (예: 최신 데이터 다시 반영)
  - 필요한 리스너/자원 재등록 준비
  - onStart() 전에 호출되므로 재시작 시 필요한 준비 작업
- ✅ 중지됐다가 다시 보여질 때 필요한 재초기화 담당

---

## 🔴 `onDestroy()`
- **호출 시점**: 액티비티가 완전히 종료되기 직전
- **주요 작업**:
  - 메모리 누수 방지를 위한 해제
  - 뷰 바인딩 null 처리
  - 리소스(코루틴, 쓰레드, DB 커넥션 등) 완전 해제
- ⚠️ **액티비티가 재생성되는 경우(onSaveInstanceState로 처리)**

---

## 📌 참고: 생명주기 간단 플로우
onCreate() → onStart() → onResume()
(onPause() → onResume()) 반복 가능
onPause() → onStop() → onRestart() → onStart() → onResume()
onPause() → onStop() → onDestroy()



---

## ✅ 요약 정리 표

| 콜백 메서드        | 목적              | 주로 수행하는 작업 예시      |
| ------------- | --------------- | ------------------ |
| `onCreate()`  | 초기 설정           | UI 세팅, DI, DB 연결 등 |
| `onStart()`   | 화면 표시 직전        | 리스너 등록, UI 업데이트    |
| `onResume()`  | 사용자와 상호작용 가능 상태 | 센서 시작, 위치 수신 등     |
| `onPause()`   | 상호작용 종료 전 처리    | 임시 저장, 센서 중지 등     |
| `onStop()`    | 화면 완전 가려짐       | 리소스 해제, 상태 저장      |
| `onRestart()` | 중지 → 다시 시작 준비   | UI 갱신, 리스너 재등록     |
| `onDestroy()` | 액티비티 종료 전 정리    | 메모리 해제, 뷰 정리 등     |


---
