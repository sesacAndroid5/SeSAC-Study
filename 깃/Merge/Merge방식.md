# Git 머지(Merge) 방식 정리

Git에서 PR(Pull Request) 또는 브랜치를 병합할 때 사용하는 대표적인 머지 방식은 아래 3가지이다.  
각 방식은 커밋 히스토리에 영향을 미치므로, 프로젝트 성격에 따라 적절히 선택해야 한다.

---

## 1. ✅ Merge Commit

### 📌 설명
- PR의 **모든 커밋을 그대로 유지**한 채 병합한다.
- 새로운 **merge commit**이 생성된다.

### 📌 특징
- 작업한 커밋들이 전부 보존되어 추적이 용이하다.
- 브랜치 병합 기록이 명확히 나타난다.

### 📌 단점
- WIP 커밋까지 전부 남아 **커밋 로그가 지저분**해질 수 있다.
- 커밋 수가 많아지면 `git log`가 복잡해진다.

### 📌 예시
```
*   Merge branch 'feature/login'
|\
| * Add email validation
| * Implement login UI
| * Setup login API
```

---

## 2. ✂️ Squash and Merge

### 📌 설명
- 모든 커밋을 **하나의 커밋으로 합쳐(squash)** 병합한다.
- 최종 커밋만 `main` 브랜치에 반영된다.

### 📌 특징
- 커밋 히스토리가 깔끔하고 관리하기 쉽다.
- 기능 단위로 병합 기록이 정리된다.

### 📌 단점
- 작업 중간 과정이 사라져 상세 내역 파악이 어려울 수 있다.

### 📌 예시
```
* Add login feature (squashed from 3 commits)
```

---

## 3. 🔁 Rebase and Merge

### 📌 설명
- 커밋들을 `main` 브랜치 위로 **재배치(rebase)** 하여 병합한다.
- 병합 커밋 없이 커밋 히스토리가 선형(linear)하게 유지된다.

### 📌 특징
- 깔끔하고 직관적인 히스토리를 만들 수 있다.
- `git log`가 보기 쉬우며, 디버깅에 유리하다.

### 📌 단점
- 협업 시 충돌 및 히스토리 변경 이슈가 발생할 수 있다.

### 📌 예시
```
* Add email validation
* Implement login UI
* Setup login API
```

---

## 🔽 요약 비교표

| 방식               | 커밋 유지 | 머지 커밋 생성 | 히스토리 정리 | 협업 추적 용이성 |
|--------------------|-----------|----------------|----------------|------------------|
| Merge Commit        | ✅         | ✅             | ❌              | ✅               |
| Squash and Merge    | ❌         | ❌             | ✅              | ❌               |
| Rebase and Merge    | ✅         | ❌             | ✅              | ⚠️ 주의 필요     |

---

## 💡 추천 전략

| 상황                                                 | 추천 방식          |
|------------------------------------------------------|---------------------|
| 작업 히스토리를 그대로 보존하고 싶을 때              | Merge Commit        |
| 기능 단위로 커밋을 정리해서 main 브랜치를 깔끔히 유지하고 싶을 때 | Squash and Merge |
| 오픈소스처럼 선형적인 히스토리를 유지하고 싶은 경우  | Rebase and Merge    |
